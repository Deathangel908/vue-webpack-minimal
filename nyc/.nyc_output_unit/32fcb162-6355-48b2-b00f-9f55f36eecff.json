{"/home/andrew/WebstormProjects/vue-webpack-typescript/src/utils/xhr.ts":{"path":"/home/andrew/WebstormProjects/vue-webpack-typescript/src/utils/xhr.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":24},"end":{"line":3,"column":56}},"2":{"start":{"line":4,"column":21},"end":{"line":4,"column":24}},"3":{"start":{"line":5,"column":21},"end":{"line":5,"column":24}},"4":{"start":{"line":6,"column":17},"end":{"line":6,"column":18}},"5":{"start":{"line":12,"column":8},"end":{"line":12,"column":90}},"6":{"start":{"line":15,"column":8},"end":{"line":15,"column":40}},"7":{"start":{"line":18,"column":8},"end":{"line":18,"column":63}},"8":{"start":{"line":21,"column":20},"end":{"line":21,"column":40}},"9":{"start":{"line":22,"column":8},"end":{"line":52,"column":11}},"10":{"start":{"line":28,"column":12},"end":{"line":48,"column":14}},"11":{"start":{"line":29,"column":32},"end":{"line":29,"column":92}},"12":{"start":{"line":30,"column":16},"end":{"line":36,"column":17}},"13":{"start":{"line":31,"column":20},"end":{"line":31,"column":89}},"14":{"start":{"line":37,"column":16},"end":{"line":47,"column":17}},"15":{"start":{"line":41,"column":21},"end":{"line":47,"column":17}},"16":{"start":{"line":42,"column":20},"end":{"line":42,"column":56}},"17":{"start":{"line":49,"column":12},"end":{"line":49,"column":40}},"18":{"start":{"line":50,"column":12},"end":{"line":50,"column":73}},"19":{"start":{"line":51,"column":12},"end":{"line":51,"column":27}},"20":{"start":{"line":55,"column":19},"end":{"line":55,"column":23}},"21":{"start":{"line":56,"column":20},"end":{"line":56,"column":24}},"22":{"start":{"line":57,"column":8},"end":{"line":63,"column":9}},"23":{"start":{"line":58,"column":12},"end":{"line":58,"column":44}},"24":{"start":{"line":65,"column":8},"end":{"line":70,"column":9}},"25":{"start":{"line":66,"column":12},"end":{"line":66,"column":26}},"26":{"start":{"line":73,"column":0},"end":{"line":73,"column":18}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":18},"end":{"line":13,"column":5}},"line":11},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":4},"end":{"line":14,"column":5}},"loc":{"start":{"line":14,"column":15},"end":{"line":16,"column":5}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":17,"column":4},"end":{"line":17,"column":5}},"loc":{"start":{"line":17,"column":22},"end":{"line":19,"column":5}},"line":17},"3":{"name":"(anonymous_3)","decl":{"start":{"line":20,"column":4},"end":{"line":20,"column":5}},"loc":{"start":{"line":20,"column":31},"end":{"line":53,"column":5}},"line":20},"4":{"name":"(anonymous_4)","decl":{"start":{"line":22,"column":27},"end":{"line":22,"column":28}},"loc":{"start":{"line":22,"column":48},"end":{"line":52,"column":9}},"line":22},"5":{"name":"(anonymous_5)","decl":{"start":{"line":28,"column":25},"end":{"line":28,"column":26}},"loc":{"start":{"line":28,"column":31},"end":{"line":48,"column":13}},"line":28},"6":{"name":"(anonymous_6)","decl":{"start":{"line":54,"column":4},"end":{"line":54,"column":5}},"loc":{"start":{"line":54,"column":43},"end":{"line":71,"column":5}},"line":54}},"branchMap":{"0":{"loc":{"start":{"line":30,"column":16},"end":{"line":36,"column":17}},"type":"if","locations":[{"start":{"line":30,"column":16},"end":{"line":36,"column":17}},{"start":{"line":30,"column":16},"end":{"line":36,"column":17}}],"line":30},"1":{"loc":{"start":{"line":37,"column":16},"end":{"line":47,"column":17}},"type":"if","locations":[{"start":{"line":37,"column":16},"end":{"line":47,"column":17}},{"start":{"line":37,"column":16},"end":{"line":47,"column":17}}],"line":37},"2":{"loc":{"start":{"line":41,"column":21},"end":{"line":47,"column":17}},"type":"if","locations":[{"start":{"line":41,"column":21},"end":{"line":47,"column":17}},{"start":{"line":41,"column":21},"end":{"line":47,"column":17}}],"line":41},"3":{"loc":{"start":{"line":65,"column":8},"end":{"line":70,"column":9}},"type":"if","locations":[{"start":{"line":65,"column":8},"end":{"line":70,"column":9}}],"line":65}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":1},"f":{"0":1,"1":0,"2":1,"3":0,"4":0,"5":0,"6":0},"b":{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0]},"inputSourceMap":{"version":3,"file":"/home/andrew/WebstormProjects/vue-webpack-typescript/src/utils/xhr.ts","sources":["/home/andrew/WebstormProjects/vue-webpack-typescript/src/utils/xhr.ts"],"names":[],"mappings":"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","sourcesContent":["import {Logger} from \"lines-logger\";\nimport {loggerFactory} from \"@/utils/loggerFactory\";\n\nconst HTTP_SUCCESS = 200;\nconst HTTP_CREATED = 201;\nconst HTTP_ERR = 0;\n\n/**\n * Low level XmlHttpRequest api, something like Axios\n */\nexport class Xhr {\n  protected httpLogger: Logger;\n\n  constructor() {\n    this.httpLogger = loggerFactory.getLoggerColor(\"http\", \"#680061\");\n  }\n\n  public doGet<T>(url: string): Promise<T> {\n    return this.sendXhr<T>(\"GET\", url);\n  }\n\n  public doPost<T>(url: string, body: object): Promise<T> {\n    return this.sendXhr<T>(\"POST\", url, JSON.stringify(body));\n  }\n\n  public sendXhr<T>(method: string, url: string, body?: Document|BodyInit): Promise<T> {\n    const req: XMLHttpRequest = new XMLHttpRequest();\n\n    return new Promise<T>((resolve: Function, reject: Function): void => {\n      // istanbul ignore next\n      req.onerror = (): void => {\n        this.httpLogger.error(\"{} out: {} ::: {}, status: {}\", method, url, req.response, req.status)();\n        reject(Error(\"Unable to fetch req\"));\n      };\n      req.onload = (): void => {\n        const success: boolean = [HTTP_SUCCESS, HTTP_CREATED].indexOf(req.status) >= HTTP_ERR;\n        if (success) {\n          this.httpLogger.log(\"{} in {} ::: {};\", method, url, req.response)();\n        } else {\n          // istanbul ignore next\n          this.httpLogger.error(\"{} out: {} ::: {}, status: {}\", method, url, req.response, req.status)();\n        }\n        if (req.status === HTTP_ERR) {\n          // istanbul ignore next\n          reject(Error(\"Unable to fetch req\"));\n        } else if (success) {\n          Xhr.parseData(req, resolve, reject);\n        } else {\n          // istanbul ignore next\n          reject(req.response);\n        }\n      };\n\n      req.open(method, url, true);\n\n      this.httpLogger.log(\"{} out {} ::: {}\", method, url, body)();\n      req.send(body);\n    });\n  }\n\n  private static parseData(req: XMLHttpRequest, resolve: Function, reject: Function): void {\n    let data: unknown|null = null;\n    let error: unknown|null = null;\n    try {\n      data = JSON.parse(req.response);\n    } catch (err) {\n      // istanbul ignore next\n      error = `Unable to parse response ${err}`;\n    }\n    // istanbul ignore else\n    if (data) {\n      resolve(data);\n    } else if (error) {\n      reject(error);\n    }\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8c5ce1845e986c5206c3b7f8e861ee3b1b824788"},"/home/andrew/WebstormProjects/vue-webpack-typescript/src/utils/loggerFactory.ts":{"path":"/home/andrew/WebstormProjects/vue-webpack-typescript/src/utils/loggerFactory.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":23},"end":{"line":3,"column":46}},"2":{"start":{"line":4,"column":17},"end":{"line":4,"column":42}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":152}}},"fnMap":{},"branchMap":{"0":{"loc":{"start":{"line":5,"column":57},"end":{"line":5,"column":150}},"type":"cond-expr","locations":[{"start":{"line":5,"column":77},"end":{"line":5,"column":117}},{"start":{"line":5,"column":120},"end":{"line":5,"column":150}}],"line":5}},"s":{"0":1,"1":1,"2":1,"3":1},"f":{},"b":{"0":[0,1]},"inputSourceMap":{"version":3,"file":"/home/andrew/WebstormProjects/vue-webpack-typescript/src/utils/loggerFactory.ts","sources":["/home/andrew/WebstormProjects/vue-webpack-typescript/src/utils/loggerFactory.ts"],"names":[],"mappings":";;AAAA,+CAAsD;AACtD,2CAAwC;AAE3B,QAAA,aAAa,GAAkB,IAAI,4BAAa,CAAC,iBAAQ,CAAC,CAAC,CAAC,wBAAS,CAAC,eAAe,CAAC,CAAC,CAAC,wBAAS,CAAC,KAAK,CAAC,CAAC","sourcesContent":["import {LogStrict, LoggerFactory} from \"lines-logger\";\nimport {IS_DEBUG} from \"@/utils/consts\";\n\nexport const loggerFactory: LoggerFactory = new LoggerFactory(IS_DEBUG ? LogStrict.LOG_RAISE_ERROR : LogStrict.ERROR);\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3f3f2e93e8ae2791897ad9562f8d1499c88b70e7"},"/home/andrew/WebstormProjects/vue-webpack-typescript/src/utils/consts.ts":{"path":"/home/andrew/WebstormProjects/vue-webpack-typescript/src/utils/consts.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":105}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/andrew/WebstormProjects/vue-webpack-typescript/src/utils/consts.ts","sources":["/home/andrew/WebstormProjects/vue-webpack-typescript/src/utils/consts.ts"],"names":[],"mappings":";;AAGA,yGAIW","sourcesContent":["// Webpack global consts\ndeclare const CONSTS: { IS_DEBUG: boolean; GIT_HASH?: string; API_URL: string };\n\nexport const {\n  GIT_HASH,\n  API_URL,\n  IS_DEBUG,\n} = CONSTS;\n\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c89b20f689c16da2dee25f30a9a389bfdfa4b463"},"/home/andrew/WebstormProjects/vue-webpack-typescript/src/utils/getUniqueId.ts":{"path":"/home/andrew/WebstormProjects/vue-webpack-typescript/src/utils/getUniqueId.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":15},"end":{"line":3,"column":16}},"2":{"start":{"line":4,"column":0},"end":{"line":6,"column":2}},"3":{"start":{"line":5,"column":4},"end":{"line":5,"column":22}}},"fnMap":{"0":{"name":"getUniqueId","decl":{"start":{"line":4,"column":31},"end":{"line":4,"column":42}},"loc":{"start":{"line":4,"column":45},"end":{"line":6,"column":1}},"line":4}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":2},"f":{"0":2},"b":{},"inputSourceMap":{"version":3,"file":"/home/andrew/WebstormProjects/vue-webpack-typescript/src/utils/getUniqueId.ts","sources":["/home/andrew/WebstormProjects/vue-webpack-typescript/src/utils/getUniqueId.ts"],"names":[],"mappings":";;AAAA,IAAI,QAAQ,GAAG,CAAC,CAAC;AAEJ,QAAA,WAAW,GAAG,SAAS,WAAW;IAC7C,OAAO,QAAQ,EAAE,CAAC;AACpB,CAAC,CAAC","sourcesContent":["let uniqueId = 1;\n\nexport const getUniqueId = function getUniqueId(): number {\n  return uniqueId++;\n};\n\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8adb78426dd7d3a72dcc47bf580e25a938d4ab83"}}